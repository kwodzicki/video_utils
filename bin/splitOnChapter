#!/usr/bin/env python3
"""
CLI to split video on chapters

"""

import argparse
from video_utils.utils.ffmpeg_utils import split_on_chapter

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument(
        'file',
        type = str,
        help = "Full path of file to split",
    )
    parser.add_argument(
        'chapters',
        type  = int,
        nargs = '*',
        help  = (
            'Number of chapters in each output segment. Can be single integer '
            'for fixed number of chapters in each segment, or multiple '
            'numbers of variable number of chapters in each segment'
        ),
    )

    args = parser.parse_args()
    if len(args.chapters) == 1:
        args.chapters = args.chapters[0]

    split_on_chapter( args.file, args.chapters )
